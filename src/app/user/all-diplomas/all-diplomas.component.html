
<p-toast position="top-right" key="AddToCartMS"></p-toast>
<p-toast position="top-right" key="AddToCartMessageWarning"></p-toast>

<ng-container *ngIf="filteredDiplomas">

    <breadcrumb [breadcrumb]="breadCrumb"></breadcrumb>

    <div class="container">
        <div class="row p-4">
            <div class="alert alert-success w-100 p-4">
                <strong>{{'DEFFERENCE_BETWEEN_COURSES'|translate}}</strong>
                <p class="p-3">
                  {{'DEFFERENCE_BETWEEN_COURSES_DEC' | translate}}
                </p>
            </div>
        </div>

    </div>
    
    

    <div class="row mt-5">
        <div class="col-10 col-md-7 col-lg-5 mx-auto d-flex justify-content-center py-4">
          <div class="search-background bg-transparent w-100 d-flex">
            <div class="form-group  mb-0 bg-white search-wrapper">
              <input 
              [(ngModel)]="searchTerm"
              type="text"
               class="form-control input-lg br-tr-md-0 br-br-md-0" 
                placeholder="{{'NAME_OF_DIPLOMA'|translate}}.....">
              <!-- <input type="text" pInputText size="50" placeholder="Global Filter" (input)="tt.filterGlobal($event.target.value, 'contains')" style="width:auto"> -->
            </div>
            <div class="w-50 mb-0">
              <button (click)="onSearch()" class="btn btn-lg btn-block btn-primary br-tl-md-0 br-bl-md-0"><span class="mx-1">{{'SEARCH'|translate}}</span></button>
            </div>
          </div>
        </div>
    </div>
    <!--diplomas-->
    <section class="sptb">
        <div class="container">
            <div class="section-title center-block text-center">
                <h2>{{'MOST_POPULAR_DIPLOMAS'|translate}}</h2>
                <span class="sectiontitle-design"><span class="icons"></span></span>
                <p></p>
            </div>
            <!--Coursed lists-->
            <div class="mb-lg-0">
                <div class="">
                    <div class="item2-gl ">
                        <div class="row best-saller">
                            <!-- repeat -->
                            <div class="col-lg-6 col-md-12 col-xl-4" *ngFor="let diplo of filteredDiplomas | paginate: { itemsPerPage: 6, currentPage: page }">
                                <div class="card overflow-hidden">
                                    <div class="item-card9-img">
                                        <div class="item-card9-imgs">
                                            <a  routerLink="/diploma-detials/{{diplo.id}}" ></a>
                                            <img [src]="diplo.img_path" alt="img" class="cover-image"
                                                style="height: 250px">
                                        </div>
                                        <div class="item-card9-icons">
                                            <a #whislistBtn [ngClass]="statusBtn ? 'in-withlist' : 'out-withlist'"
                                            (click)="toggleWishlist($event.target , diplo)" class="item-card2-icons-l mx-1">
                                            <i class="fa fa-heart mx-1"></i>
                                          </a>
                                            <a href="#" class="item-card9-icons1 bg-black-trasparant"> <i
                                                    class="fa fa fa-share-alt"></i>
                                                </a>
                                        </div>
                                        <div class="item-overly-trans">
    
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <div class="item-card9">
    
                                            <a routerLink="/diploma-detials/{{diplo.id}}"  class="text-dark mt-2">
                                                <h3 class="font-weight-semibold mt-2 mb-2">
                                                    {{ (diplo.name>20) ? (diplo.name | slice:0:50)+'..':(diplo.name)}}
    
                                                </h3>
                                            </a>
                                            <!-- <div class="item-card9-desc mb-2">
                                                <a href="#" class="ml-4 float-right">
                                                    <span class="text-muted"><i class="fa fa-user text-muted ml-1"></i>
                                                    </span>
                                                </a>
                                            </div> -->
                                            <p class="mb-0"
                                            innerHTML="{{(diplo.description.length>20)? (diplo.description | slice:0:80)+'..':(diplo.description)}}">
    
    
                                            </p>
                                            <div class="w-100">
                                                <a (click)="addDiplomaToBasket(diplo)" class="btn btn-primary text-white float-left w-100 mt-3">
                                                    {{'SUBSCRIBE_NOW'|translate}}
                                                    
                                                </a>
                                              </div>
                                        </div>
                                    </div>
                                    <div class="card-footer">
                                        <div class="item-card9-footer d-flex">
                                            <div class="item-card9-cost">
                                                <!-- <h4 class="text-dark font-weight-semibold mb-0 mt-0">580.00</h4> -->
    
                                                <h4 class="mb-0 price-color">{{diplo.price_after_discount}} <span class="mx-1">{{'EG_POUND'|translate}}</span></h4>
                                                <del class="mb-0">{{diplo.price_before_discount}} <span class="mx-1">{{'EG_POUND'|translate}}</span></del>
                                            </div>
                                            <div class="mr-auto">
                                                <div class="rating-stars block item-card9-icons">
                                                   <!-- <strong class="item-card9-icons1 bg-black-trasparant p-2">6</strong> -->
                                                   <a href="#" class="item-card9-icons1 bg-black-trasparant">
                                                       <span class="text-light">
                                                           {{diplo.coursesCount}}
                                                       </span>
                                                </a>
                                                   <span class="mr-2">{{'FOOTER_COL_TOW'|translate}}</span>
    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                           <!-- repeat -->
                        </div>
                        <div class="row justify-content-center pagination-row">
                            <div class="col-7 d-flex justify-content-center">
                              <pagination-controls class="pagination" (pageChange)="page = $event">

                              </pagination-controls>
                            </div>
                        </div>
                    </div>
                    <div class="center-block text-center">
    
                    </div>
                </div>
            </div>
            <!--/Coursed lists-->
        </div>
    </section>
    <!--diplomas-->
    
    <!--diplomas-->
    <section class="sptb">
        <div class="container">
            <div class="section-title center-block text-center">
                <h2>خصومات تصل إلي 50% علي هذه الدبلومات</h2>
                <span class="sectiontitle-design"><span class="icons"></span></span>
                <p></p>
            </div>
            <!--Coursed lists-->
            <div class="mb-lg-0">
                <div class="">
                    <div class="item2-gl ">
                        <div class="row best-saller">
    
                              <!-- repeat -->
                              <div class="col-lg-6 col-md-12 col-xl-4" *ngFor="let diplo of filteredDiplomas2 | paginate: { itemsPerPage: 6, currentPage: page_ }">
                                <div class="card overflow-hidden">
                                    <div class="item-card9-img">
                                        <div class="item-card9-imgs">
                                            <a  routerLink="/diploma-detials/{{diplo.id}}" ></a>
                                            <img [src]="diplo.img_path" alt="img" class="cover-image"
                                                style="height: 250px">
                                        </div>
                                        <div class="item-card9-icons">
                                            <a #whislistBtn [ngClass]="statusBtn ? 'in-withlist' : 'out-withlist'"
                                            (click)="toggleWishlist($event.target , diplo)" class="item-card2-icons-l mx-1">
                                            <i class="fa fa-heart mx-1"></i>
                                          </a>
                                            <a href="#" class="item-card9-icons1 bg-black-trasparant"> <i
                                                    class="fa fa fa-share-alt"></i>
                                                </a>
                                        </div>
                                        <div class="item-overly-trans">
    
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <div class="item-card9">
    
                                            <a  routerLink="/diploma-detials/{{diplo.id}}"  class="text-dark mt-2">
                                                <h3 class="font-weight-semibold mt-2 mb-2">
                                                    {{ (diplo.name>20) ? (diplo.name | slice:0:50)+'..':(diplo.name)}}
    
                                                </h3>
                                            </a>
                                            <!-- <div class="item-card9-desc mb-2">
                                                <a href="#" class="ml-4 float-right">
                                                    <span class="text-muted"><i class="fa fa-user text-muted ml-1"></i>
                                                    </span>
                                                </a>
                                            </div> -->
                                            <p class="mb-0"
                                            innerHTML="{{(diplo.description.length>20)? (diplo.description | slice:0:80)+'..':(diplo.description)}}"
                                            >
    
    
                                            </p>
                                        </div>
                                    </div>
                                    <div class="card-footer">
                                        <div class="item-card9-footer d-flex">
                                            <div class="item-card9-cost">
                                                <!-- <h4 class="text-dark font-weight-semibold mb-0 mt-0">580.00</h4> -->
    
                                                <h4 class="mb-0 price-color">{{diplo.price_after_discount}} <span class="mx-1">{{'EG_POUND'|translate}}</span></h4>
                                                <del class="mb-0">{{diplo.price_before_discount}} <span class="mx-1">{{'EG_POUND'|translate}}</span></del>
                                            </div>
                                            <div class="mr-auto">
                                                <div class="rating-stars block item-card9-icons">
                                                   <!-- <strong class="item-card9-icons1 bg-black-trasparant p-2">6</strong> -->
                                                   <a href="#" class="item-card9-icons1 bg-black-trasparant">
                                                       <span class="text-light">
                                                           {{diplo.coursesCount}}
                                                       </span>
                                                </a>
                                                   <span class="mr-2">{{'FOOTER_COL_TOW'|translate}}</span>
    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                           <!-- repeat -->
    
                        </div>

                        <div class="row justify-content-center pagination-row">
                            <div class="col-7 d-flex justify-content-center">
                              <pagination-controls class="pagination" (pageChange)="page_ = $event"></pagination-controls>
                            </div>
                        </div>
                    </div>
                    <div class="center-block text-center">
    
                    </div>
                </div>
            </div>
            <!--/Coursed lists-->
        </div>
    </section>
    <!--diplomas-->
</ng-container>

<ng-container *ngIf="!diplomas">

    <div class="row alert-message">
        <div class="col-6 mx-auto">
            <div class="alert alert-warning">
              <h3 class="text-center test-bold">
                {{'NO_DIPLOMAS' |translate }}
              </h3>
            </div>
        </div>
    </div>
  </ng-container>